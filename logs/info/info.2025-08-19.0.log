2025-08-19 10:04:21.958 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 10:04:22.000 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 10:04:28.289 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:04:28.326 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 5884 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:04:28.326 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:04:29.428 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:04:29.436 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:04:29.436 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:04:29.436 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:04:29.511 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:04:29.512 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1151 ms
2025-08-19 10:04:30.294 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cd5ff55, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6003220a, org.springframework.security.web.context.SecurityContextHolderFilter@9e62fb, org.springframework.security.web.header.HeaderWriterFilter@350bbd5d, org.springframework.security.web.authentication.logout.LogoutFilter@7e3ee128, com.ankai.security.JwtAuthenticationFilter@6b867ee7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43c0c13a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@731db93f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16b64a03, org.springframework.security.web.session.SessionManagementFilter@42cc5460, org.springframework.security.web.access.ExceptionTranslationFilter@5a39e554, org.springframework.security.web.access.intercept.AuthorizationFilter@374b6e33]
2025-08-19 10:04:30.657 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:04:30.677 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:04:30.687 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 2.869 seconds (process running for 3.503)
2025-08-19 10:07:15.792 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:07:15.793 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:07:15.794 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 10:07:15.804 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui.html
2025-08-19 10:07:15.804 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui.html
2025-08-19 10:07:15.864 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/index.html
2025-08-19 10:07:15.865 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/index.html
2025-08-19 10:07:15.935 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui.css
2025-08-19 10:07:15.935 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui.css
2025-08-19 10:07:15.955 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui-bundle.js
2025-08-19 10:07:15.955 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/index.css
2025-08-19 10:07:15.955 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui-bundle.js
2025-08-19 10:07:15.955 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/index.css
2025-08-19 10:07:15.957 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-19 10:07:15.958 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui-standalone-preset.js
2025-08-19 10:07:15.964 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-initializer.js
2025-08-19 10:07:15.965 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-initializer.js
2025-08-19 10:07:16.301 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /v3/api-docs/swagger-config
2025-08-19 10:07:16.304 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /v3/api-docs/swagger-config
2025-08-19 10:07:16.306 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/favicon-32x32.png
2025-08-19 10:07:16.307 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/favicon-32x32.png
2025-08-19 10:07:16.341 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /v3/api-docs
2025-08-19 10:07:16.341 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /v3/api-docs
2025-08-19 10:07:16.745 [http-nio-8080-exec-10] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 398 ms
2025-08-19 10:07:53.299 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/test/info
2025-08-19 10:07:53.299 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/test/info
2025-08-19 10:08:41.021 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /
2025-08-19 10:09:05.890 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 10:09:05.890 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 10:09:05.940 [http-nio-8080-exec-8] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 10:09:08.069 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 10:09:08.150 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 10:09:08.180 [http-nio-8080-exec-8] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 10:09:08.562 [http-nio-8080-exec-8] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1448ad5b
2025-08-19 10:09:08.567 [http-nio-8080-exec-8] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 10:09:08.671 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 10:09:08.786 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 10:09:15.433 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:09:20.028 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:09:28.920 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:09:49.419 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:13:21.578 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 10:13:21.592 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 10:25:11.922 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:25:11.959 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 26648 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:25:11.960 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:25:12.841 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-19 10:27:32.713 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:27:32.788 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 11324 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:27:32.789 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:27:33.661 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 10:27:33.663 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 10:27:33.690 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-19 10:27:34.356 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:27:34.364 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:27:34.364 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:27:34.364 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:27:34.438 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:27:34.438 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1592 ms
2025-08-19 10:27:35.207 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 10:27:35.407 [redisson-netty-4-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:27:35.449 [redisson-netty-4-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:27:35.761 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19540247, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@acb1c9c, org.springframework.security.web.context.SecurityContextHolderFilter@71e409f, org.springframework.security.web.header.HeaderWriterFilter@7fad28ac, org.springframework.security.web.authentication.logout.LogoutFilter@6bfdaed7, com.ankai.security.JwtAuthenticationFilter@49986178, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6aa792, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c78f456, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c681761, org.springframework.security.web.session.SessionManagementFilter@57f89680, org.springframework.security.web.access.ExceptionTranslationFilter@2761156e, org.springframework.security.web.access.intercept.AuthorizationFilter@f0381f0]
2025-08-19 10:27:36.021 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:27:36.031 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:27:36.038 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.857 seconds (process running for 4.549)
2025-08-19 10:28:09.258 [http-nio-8080-exec-2] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:28:09.258 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:28:09.259 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 10:28:09.267 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:29:09.203 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:30:09.199 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:31:09.212 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:32:09.206 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:33:09.199 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:34:09.195 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:35:09.205 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:35:13.749 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:35:13.794 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 3516 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:35:13.795 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:35:14.427 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 10:35:14.430 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 10:35:14.454 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-19 10:35:15.046 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:35:15.053 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:35:15.054 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:35:15.054 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:35:15.128 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:35:15.128 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1299 ms
2025-08-19 10:35:15.818 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 10:35:16.014 [redisson-netty-4-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:35:16.059 [redisson-netty-4-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:35:16.346 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@272c5abd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c8909a, org.springframework.security.web.context.SecurityContextHolderFilter@49f41c2e, org.springframework.security.web.header.HeaderWriterFilter@28515443, org.springframework.security.web.authentication.logout.LogoutFilter@642614b7, com.ankai.security.JwtAuthenticationFilter@6723cce7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ab39942, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64186f60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70ad0854, org.springframework.security.web.session.SessionManagementFilter@5da1a97f, org.springframework.security.web.access.ExceptionTranslationFilter@39c1e7b7, org.springframework.security.web.access.intercept.AuthorizationFilter@138a952f]
2025-08-19 10:35:16.595 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:35:16.604 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:35:16.611 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.261 seconds (process running for 3.926)
2025-08-19 10:35:27.307 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:35:27.307 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:35:27.310 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-08-19 10:35:27.319 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:35:33.495 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/logout
2025-08-19 10:35:33.495 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/logout
2025-08-19 10:35:33.522 [http-nio-8080-exec-2] INFO  com.ankai.controller.AuthController - 用户登出: 失败
2025-08-19 10:35:51.354 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 10:35:51.354 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 10:35:51.456 [http-nio-8080-exec-3] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 10:35:51.456 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 10:35:51.528 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 10:35:51.546 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 10:35:51.924 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@78c3a070
2025-08-19 10:35:51.925 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 10:35:52.030 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 10:35:52.152 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 10:44:33.036 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 10:44:33.077 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 10:45:50.264 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:45:50.311 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 20864 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:45:50.312 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:45:50.981 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 10:45:50.984 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 10:45:51.010 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-19 10:45:51.661 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:45:51.669 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:45:51.669 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:45:51.669 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:45:51.744 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:45:51.744 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1394 ms
2025-08-19 10:45:52.193 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:45:52.365 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 10:45:52.388 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:45:52.395 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 10:45:52.461 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 10:45:52.671 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:45:52.715 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:45:53.094 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f5f8de2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6baee63b, org.springframework.security.web.context.SecurityContextHolderFilter@2ba08f26, org.springframework.security.web.header.HeaderWriterFilter@21dd9203, org.springframework.security.web.authentication.logout.LogoutFilter@478c84aa, com.ankai.security.JwtAuthenticationFilter@261275ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50b624da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1764e45e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1002b06d, org.springframework.security.web.session.SessionManagementFilter@4d90d91f, org.springframework.security.web.access.ExceptionTranslationFilter@34d72f06, org.springframework.security.web.access.intercept.AuthorizationFilter@3cab07dd]
2025-08-19 10:45:53.374 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:45:53.388 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:45:53.397 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.588 seconds (process running for 4.221)
2025-08-19 10:46:04.206 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:46:04.206 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:46:04.208 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-19 10:46:04.218 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/logout
2025-08-19 10:46:04.218 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/logout
2025-08-19 10:46:04.258 [http-nio-8080-exec-1] INFO  com.ankai.controller.AuthController - 用户登出: 失败
2025-08-19 10:46:13.908 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 10:46:13.908 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 10:46:13.995 [http-nio-8080-exec-2] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 10:46:13.995 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 10:46:14.081 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 10:46:14.100 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 10:46:14.454 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@769e607a
2025-08-19 10:46:14.457 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 10:46:14.557 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 10:46:14.675 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 10:47:04.278 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/test/hello
2025-08-19 10:47:04.278 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/test/hello
2025-08-19 10:47:06.045 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/test/info
2025-08-19 10:47:06.045 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/test/info
2025-08-19 10:47:12.750 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:48:36.264 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui.html
2025-08-19 10:48:36.265 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui.html
2025-08-19 10:48:36.286 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/index.html
2025-08-19 10:48:36.287 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/index.html
2025-08-19 10:48:36.358 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui.css
2025-08-19 10:48:36.358 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui.css
2025-08-19 10:48:36.365 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/index.css
2025-08-19 10:48:36.365 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/index.css
2025-08-19 10:48:36.371 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui-bundle.js
2025-08-19 10:48:36.372 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui-bundle.js
2025-08-19 10:48:36.372 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-19 10:48:36.372 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-ui-standalone-preset.js
2025-08-19 10:48:36.373 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /swagger-ui/swagger-initializer.js
2025-08-19 10:48:36.373 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /swagger-ui/swagger-initializer.js
2025-08-19 10:48:36.585 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /v3/api-docs/swagger-config
2025-08-19 10:48:36.585 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /v3/api-docs/swagger-config
2025-08-19 10:48:36.617 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /v3/api-docs
2025-08-19 10:48:36.618 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /v3/api-docs
2025-08-19 10:48:36.949 [http-nio-8080-exec-4] INFO  org.springdoc.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 322 ms
2025-08-19 10:48:50.778 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/health/redis-db-check
2025-08-19 10:49:09.714 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/health/redis-db-verify
2025-08-19 10:49:51.843 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/health/token-test
2025-08-19 10:49:54.769 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/health/token-test
2025-08-19 10:51:26.459 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/v1/user
2025-08-19 10:51:35.326 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:55:58.108 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 10:55:58.128 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 10:56:03.919 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:56:03.971 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 25056 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:56:03.972 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:56:04.704 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 10:56:04.708 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 10:56:04.737 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-19 10:56:05.364 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:56:05.371 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:56:05.372 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:56:05.372 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:56:05.450 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:56:05.450 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1439 ms
2025-08-19 10:56:05.884 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:56:06.053 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 10:56:06.074 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:56:06.083 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 10:56:06.144 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 10:56:06.350 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:56:06.396 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:56:06.743 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5da1a97f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b5f022f, org.springframework.security.web.context.SecurityContextHolderFilter@738ed8f5, org.springframework.security.web.header.HeaderWriterFilter@25c16cf7, org.springframework.security.web.authentication.logout.LogoutFilter@1820f274, com.ankai.security.JwtAuthenticationFilter@261275ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@478c84aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d1deb11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a569672, org.springframework.security.web.session.SessionManagementFilter@1ddc8fc, org.springframework.security.web.access.ExceptionTranslationFilter@6a0ee80, org.springframework.security.web.access.intercept.AuthorizationFilter@7fad28ac]
2025-08-19 10:56:06.991 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:56:07.000 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:56:07.009 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.554 seconds (process running for 4.188)
2025-08-19 10:57:01.822 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:57:01.822 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:57:01.823 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 10:57:01.850 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:57:01.850 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 10:57:01.850 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 10:57:01.851 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 10:57:01.851 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 10:58:32.822 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 10:58:32.867 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 20864 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 10:58:32.867 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 10:58:33.483 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 10:58:33.485 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 10:58:33.510 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-19 10:58:34.102 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 10:58:34.109 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 10:58:34.110 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 10:58:34.110 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 10:58:34.186 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 10:58:34.187 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1284 ms
2025-08-19 10:58:34.624 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:58:34.778 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 10:58:34.798 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 10:58:34.807 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 10:58:34.876 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 10:58:35.093 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:58:35.137 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 10:58:35.570 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f4f6f89, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c45191e, org.springframework.security.web.context.SecurityContextHolderFilter@7d07e04e, org.springframework.security.web.header.HeaderWriterFilter@a1a72d4, org.springframework.security.web.authentication.logout.LogoutFilter@221961af, com.ankai.security.JwtAuthenticationFilter@7f012923, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@770cbe5d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f575d2b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ef220e4, org.springframework.security.web.session.SessionManagementFilter@444c0f9a, org.springframework.security.web.access.ExceptionTranslationFilter@3ba8ef4e, org.springframework.security.web.access.intercept.AuthorizationFilter@478c84aa]
2025-08-19 10:58:35.820 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 10:58:35.830 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-08-19 10:58:35.838 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.45 seconds (process running for 4.044)
2025-08-19 10:58:58.950 [http-nio-8080-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 10:58:58.950 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 10:58:58.951 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 10:58:58.963 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:58:58.963 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 10:58:58.963 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 10:58:58.963 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 10:58:58.963 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 10:59:24.886 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 10:59:24.886 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 10:59:24.995 [http-nio-8080-exec-2] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 10:59:24.995 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 10:59:25.067 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 10:59:25.087 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 10:59:25.444 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6db5166e
2025-08-19 10:59:25.445 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 10:59:25.552 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 10:59:42.956 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 10:59:42.957 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 10:59:42.958 [http-nio-8080-exec-3] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 10:59:42.958 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 10:59:42.958 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 10:59:43.029 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 10:59:43.147 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 10:59:50.761 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 10:59:50.761 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 10:59:50.761 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 10:59:50.761 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 10:59:50.761 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:00:20.182 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/password/token-debug-page
2025-08-19 11:00:20.182 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/password/token-debug-page
2025-08-19 11:00:27.537 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 11:00:27.537 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/auth/login
2025-08-19 11:00:27.538 [http-nio-8080-exec-8] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 11:00:27.538 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 11:00:27.538 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 11:00:27.612 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 11:00:27.701 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 11:00:34.872 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/password/debug-token-complete
2025-08-19 11:00:34.872 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/password/debug-token-complete
2025-08-19 11:00:57.404 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 11:00:57.404 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:00:57.404 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:00:57.404 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:00:57.404 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:01:00.185 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/password/debug-token-complete
2025-08-19 11:01:00.185 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 跳过JWT验证，直接放行: /api/password/debug-token-complete
2025-08-19 11:07:06.995 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 11:07:07.016 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 11:07:14.016 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 11:07:14.085 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 28628 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 11:07:14.085 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 11:07:14.826 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 11:07:14.828 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 11:07:14.859 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-19 11:07:15.599 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 11:07:15.607 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 11:07:15.607 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 11:07:15.608 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 11:07:15.686 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 11:07:15.687 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1551 ms
2025-08-19 11:07:16.170 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 11:07:16.380 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 11:07:16.403 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 11:07:16.411 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 11:07:16.474 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 11:07:16.683 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 11:07:16.730 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 11:07:17.126 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2634d000, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1642968c, org.springframework.security.web.context.SecurityContextHolderFilter@34d5eac, org.springframework.security.web.header.HeaderWriterFilter@570127fa, org.springframework.security.web.authentication.logout.LogoutFilter@f575d2b, com.ankai.security.JwtAuthenticationFilter@25109608, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1adf387e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72b53f27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a7dcfb7, org.springframework.security.web.session.SessionManagementFilter@1b6683c4, org.springframework.security.web.access.ExceptionTranslationFilter@4136b193, org.springframework.security.web.access.intercept.AuthorizationFilter@1764e45e]
2025-08-19 11:07:17.389 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 11:07:17.398 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 11:07:17.406 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.855 seconds (process running for 4.92)
2025-08-19 11:07:48.461 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 11:07:48.462 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 11:07:48.463 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 11:07:48.477 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/password/token-debug-page
2025-08-19 11:07:48.478 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:07:48.478 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:07:48.478 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:07:48.478 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:07:56.249 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 11:07:56.250 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:07:56.250 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:07:56.250 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:07:56.250 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:07:56.342 [http-nio-8080-exec-3] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 11:07:56.342 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 11:07:56.411 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 11:07:56.428 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 11:07:56.780 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3945c510
2025-08-19 11:07:56.781 [http-nio-8080-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 11:07:56.882 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 11:07:57.008 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 11:08:01.329 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/password/debug-token-complete
2025-08-19 11:08:01.329 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:08:01.329 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 11:08:01.329 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU3Mjg3NiwiZXhwIjoxNzU1NTgwMDc2fQ.e39ajynG1fGhAManqIVagHL8Yd9Ap0jMDc26MYSyX-rq6EYa9N8V5jfieyMIVTfRk6WCd6qnWg8x2BeNppDmow
2025-08-19 11:08:01.329 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 11:08:01.330 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 11:08:01.353 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 11:08:01.354 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 11:08:01.424 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 11:08:01.426 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 11:08:45.285 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 11:08:45.285 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:08:45.285 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:08:45.285 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:08:45.285 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:08:45.287 [http-nio-8080-exec-10] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 11:08:45.287 [http-nio-8080-exec-10] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 11:08:45.287 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 11:08:45.356 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 11:08:45.451 [http-nio-8080-exec-10] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 11:08:47.839 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:08:47.839 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:08:47.839 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:08:47.840 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:08:47.840 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:08:52.207 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:08:52.208 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:08:52.208 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:08:52.208 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:08:52.208 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:09:06.707 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:09:06.707 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:09:06.707 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:09:06.707 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:09:06.707 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:09:09.087 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:09:09.087 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:09:09.087 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:09:09.087 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:09:09.087 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:14:04.261 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:14:04.261 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:14:04.265 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:14:04.265 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:14:04.267 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:14:04.267 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:14:04.267 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:14:04.267 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:14:04.267 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:14:04.267 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:31:19.193 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 11:31:19.238 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 11:31:27.403 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 11:31:27.470 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 11564 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 11:31:27.471 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 11:31:28.653 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 11:31:28.657 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 11:31:28.756 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 60 ms. Found 0 Redis repository interfaces.
2025-08-19 11:31:30.616 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 11:31:30.630 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 11:31:30.631 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 11:31:30.631 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 11:31:30.782 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 11:31:30.783 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3261 ms
2025-08-19 11:31:31.612 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 11:31:31.973 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 11:31:32.016 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 11:31:32.031 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 11:31:32.134 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 11:31:32.429 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 11:31:32.478 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 11:31:32.947 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c85486, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51e1e058, org.springframework.security.web.context.SecurityContextHolderFilter@50008974, org.springframework.security.web.header.HeaderWriterFilter@770cbe5d, org.springframework.security.web.authentication.logout.LogoutFilter@f5f8de2, com.ankai.security.JwtAuthenticationFilter@58182b96, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a0ee80, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71de1091, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23e0c200, org.springframework.security.web.session.SessionManagementFilter@1642968c, org.springframework.security.web.access.ExceptionTranslationFilter@7d07e04e, org.springframework.security.web.access.intercept.AuthorizationFilter@35dc849b]
2025-08-19 11:31:33.439 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 11:31:33.458 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 11:31:33.473 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 6.72 seconds (process running for 9.897)
2025-08-19 11:31:37.267 [http-nio-8080-exec-4] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 11:31:37.267 [http-nio-8080-exec-4] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 11:31:37.272 [http-nio-8080-exec-4] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 11:31:37.283 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:31:37.283 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:31:37.283 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:31:37.283 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:31:37.283 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:31:37.283 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:31:37.283 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:31:37.283 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:31:37.283 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:31:37.283 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:31:41.987 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 11:31:41.987 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:31:41.987 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:31:41.987 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:31:41.987 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 11:31:42.124 [http-nio-8080-exec-5] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 11:31:42.124 [http-nio-8080-exec-5] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 11:31:42.196 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 11:31:42.217 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 11:31:42.584 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b92eeaf
2025-08-19 11:31:42.585 [http-nio-8080-exec-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 11:31:42.693 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 11:31:42.820 [http-nio-8080-exec-5] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 11:31:47.729 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 11:31:47.729 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 11:31:47.729 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 11:31:47.729 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 11:31:47.729 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 14:53:00.447 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 14:53:00.520 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 17388 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 14:53:00.521 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 14:53:01.492 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 14:53:01.496 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 14:53:01.534 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-08-19 14:53:02.463 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 14:53:02.472 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 14:53:02.474 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 14:53:02.474 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 14:53:02.573 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 14:53:02.573 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2004 ms
2025-08-19 14:53:03.186 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 14:53:03.475 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 14:53:03.511 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 14:53:03.519 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 14:53:03.598 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 14:53:03.878 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 14:53:03.921 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 14:53:04.391 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71b7e9c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55202ba6, org.springframework.security.web.context.SecurityContextHolderFilter@a1a72d4, org.springframework.security.web.header.HeaderWriterFilter@69abeb14, org.springframework.security.web.authentication.logout.LogoutFilter@50b4e7b2, com.ankai.security.JwtAuthenticationFilter@4005e485, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1afa048a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@293ecff6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ef1fc8a, org.springframework.security.web.session.SessionManagementFilter@78829412, org.springframework.security.web.access.ExceptionTranslationFilter@6b32b678, org.springframework.security.web.access.intercept.AuthorizationFilter@520ec7a7]
2025-08-19 14:53:04.757 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 14:53:04.775 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 14:53:04.784 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 4.935 seconds (process running for 5.808)
2025-08-19 14:53:30.567 [http-nio-8080-exec-2] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 14:53:30.568 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 14:53:30.571 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-08-19 14:53:30.602 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 14:53:30.602 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 14:53:30.602 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 14:53:30.602 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 14:53:30.602 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 14:53:30.867 [http-nio-8080-exec-2] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 14:53:30.867 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 14:53:30.960 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 14:53:30.994 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 14:53:31.380 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2c5e2b44
2025-08-19 14:53:31.382 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 14:53:31.498 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 14:53:31.644 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 14:53:38.055 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: GET /api/test/hello
2025-08-19 14:53:38.055 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 14:53:38.055 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 14:53:38.055 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 14:53:38.055 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 14:53:44.861 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 14:53:44.861 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 14:53:44.863 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 14:53:44.863 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 14:53:44.863 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 14:53:44.875 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 14:53:44.875 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, endpoint=/api/test/token-test-public, method=POST, allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua-platform="Windows", content-length=81, connection=close, host=localhost:8080}, requestBody={testMessage=这是一个测试请求, timestamp=2025-08-19T06:53:44.847Z}, hasToken=false, authorizationHeader=null, timestamp=2025-08-19T14:53:44.875523700}
2025-08-19 14:53:57.500 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 14:53:57.501 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 14:53:57.501 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 14:53:57.501 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 14:53:57.501 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 14:53:57.504 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 14:53:57.504 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, hasAuthorizationHeader=false, tokenStatus=未提供Authorization头, endpoint=/api/test/token-test, method=POST, requestBody={testMessage=这是一个需要认证的测试请求, timestamp=2025-08-19T06:53:57.495Z}, relevantHeaders={}, springSecurityAuthenticated=true, authenticatedUser=anonymousUser, authorizationHeader=null, authorities=[ROLE_ANONYMOUS], timestamp=2025-08-19T14:53:57.504136400}
2025-08-19 15:00:59.251 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 15:00:59.600 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 15:01:05.150 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 15:01:05.200 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 9868 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 15:01:05.201 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 15:01:05.922 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 15:01:05.925 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 15:01:05.951 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-19 15:01:06.657 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 15:01:06.666 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 15:01:06.667 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 15:01:06.667 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 15:01:06.750 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 15:01:06.750 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1511 ms
2025-08-19 15:01:07.249 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 15:01:07.461 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 15:01:07.484 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 15:01:07.491 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 15:01:07.547 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 15:01:07.764 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 15:01:07.809 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 15:01:08.152 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@738ed8f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cfb7450, org.springframework.security.web.context.SecurityContextHolderFilter@63243c8f, org.springframework.security.web.header.HeaderWriterFilter@65a66a75, org.springframework.security.web.authentication.logout.LogoutFilter@71b7e9c8, com.ankai.security.JwtAuthenticationFilter@6e517c9e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@444c0f9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36931450, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@478c84aa, org.springframework.security.web.session.SessionManagementFilter@21dd9203, org.springframework.security.web.access.ExceptionTranslationFilter@544e6b, org.springframework.security.web.access.intercept.AuthorizationFilter@1ddc8fc]
2025-08-19 15:01:08.429 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 15:01:08.442 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 15:01:08.452 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.828 seconds (process running for 4.643)
2025-08-19 15:01:39.081 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 15:01:39.083 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 15:01:39.089 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-08-19 15:01:39.103 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:01:39.103 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:01:39.103 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:01:39.104 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:01:39.104 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:01:39.267 [http-nio-8080-exec-1] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:01:39.268 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:01:39.353 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:01:39.386 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 15:01:39.746 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@8238395
2025-08-19 15:01:39.747 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 15:01:39.848 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:01:39.972 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:01:48.648 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:01:48.649 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:01:48.649 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:01:48.671 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:01:48.672 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:01:48.737 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:01:48.740 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:01:48.751 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:01:48.755 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, sec-ch-ua-platform="Windows", content-length=80, connection=close, host=localhost:8080}, tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:01:48.640Z}, hasToken=true, timestamp=2025-08-19T15:01:48.751925300}
2025-08-19 15:01:53.308 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:01:53.308 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:01:53.308 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:01:53.308 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:01:53.310 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:01:53.313 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:01:53.315 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:01:53.377 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:01:53.380 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:01:53.381 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:01:53.386 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:01:53.303Z}, startsWithBearer=true, timestamp=2025-08-19T15:01:53.381395800}
2025-08-19 15:02:03.069 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: OPTIONS /api/test/token-test-public
2025-08-19 15:02:03.069 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:03.069 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:03.069 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:03.069 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:03.074 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:03.078 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:03.080 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:03.144 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:03.146 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:03.149 [http-nio-8080-exec-6] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:02:03.152 [http-nio-8080-exec-6] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={host=localhost:8080, connection=keep-alive, content-length=80, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", content-type=application/json, sec-ch-ua-mobile=?0, accept=*/*, origin=http://localhost:8000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:8000/, accept-encoding=gzip, deflate, br, zstd, accept-language=zh-CN,zh;q=0.9}, tokenLength=214, requestBody={testMessage=手动fetch测试请求, timestamp=2025-08-19T07:02:03.064Z}, hasToken=true, timestamp=2025-08-19T15:02:03.149805800}
2025-08-19 15:02:07.137 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: OPTIONS /api/test/token-test
2025-08-19 15:02:07.137 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:07.137 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:07.137 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:07.137 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:07.142 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:07.144 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:07.145 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:07.211 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:07.213 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:07.215 [http-nio-8080-exec-8] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:02:07.218 [http-nio-8080-exec-8] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=手动fetch测试请求, timestamp=2025-08-19T07:02:07.135Z}, startsWithBearer=true, timestamp=2025-08-19T15:02:07.215778500}
2025-08-19 15:02:10.516 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:02:10.516 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:10.516 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:10.517 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:10.517 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:10.518 [http-nio-8080-exec-10] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:02:10.518 [http-nio-8080-exec-10] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, endpoint=/api/test/token-test-public, method=POST, allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua-platform="Windows", content-length=81, connection=close, host=localhost:8080}, requestBody={testMessage=这是一个测试请求, timestamp=2025-08-19T07:02:10.511Z}, hasToken=false, authorizationHeader=null, timestamp=2025-08-19T15:02:10.518346100}
2025-08-19 15:02:16.573 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:02:16.573 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:16.573 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:16.573 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:16.573 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:16.574 [http-nio-8080-exec-1] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:02:16.574 [http-nio-8080-exec-1] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, hasAuthorizationHeader=false, tokenStatus=未提供Authorization头, endpoint=/api/test/token-test, method=POST, requestBody={testMessage=这是一个需要认证的测试请求, timestamp=2025-08-19T07:02:16.568Z}, relevantHeaders={}, springSecurityAuthenticated=true, authenticatedUser=anonymousUser, authorizationHeader=null, authorities=[ROLE_ANONYMOUS], timestamp=2025-08-19T15:02:16.574286100}
2025-08-19 15:02:25.635 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:02:25.636 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, endpoint=/api/test/token-test-public, method=POST, allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua-platform="Windows", content-length=81, connection=close, host=localhost:8080}, requestBody={testMessage=这是一个测试请求, timestamp=2025-08-19T07:02:25.631Z}, hasToken=false, authorizationHeader=null, timestamp=2025-08-19T15:02:25.636876100}
2025-08-19 15:02:27.741 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:02:27.741 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:27.741 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:02:27.741 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:27.741 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:02:27.742 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:02:27.742 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, hasAuthorizationHeader=false, tokenStatus=未提供Authorization头, endpoint=/api/test/token-test, method=POST, requestBody={testMessage=这是一个需要认证的测试请求, timestamp=2025-08-19T07:02:27.736Z}, relevantHeaders={}, springSecurityAuthenticated=true, authenticatedUser=anonymousUser, authorizationHeader=null, authorities=[ROLE_ANONYMOUS], timestamp=2025-08-19T15:02:27.742306800}
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:29.915 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:29.918 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:29.919 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:29.983 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:29.988 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:29.990 [http-nio-8080-exec-5] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:02:29.993 [http-nio-8080-exec-5] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={host=localhost:8080, connection=keep-alive, content-length=80, sec-ch-ua-platform="Windows", authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", content-type=application/json, sec-ch-ua-mobile=?0, accept=*/*, origin=http://localhost:8000, sec-fetch-site=same-site, sec-fetch-mode=cors, sec-fetch-dest=empty, referer=http://localhost:8000/, accept-encoding=gzip, deflate, br, zstd, accept-language=zh-CN,zh;q=0.9}, tokenLength=214, requestBody={testMessage=手动fetch测试请求, timestamp=2025-08-19T07:02:29.912Z}, hasToken=true, timestamp=2025-08-19T15:02:29.990301700}
2025-08-19 15:02:34.845 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:34.846 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:34.849 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:34.851 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:34.916 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:34.920 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:34.921 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:02:34.925 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, sec-ch-ua-platform="Windows", content-length=80, connection=close, host=localhost:8080}, tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:02:34.840Z}, hasToken=true, timestamp=2025-08-19T15:02:34.921242200}
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:36.780 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:36.781 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:36.781 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:36.785 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:36.785 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:36.851 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:36.853 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:36.854 [http-nio-8080-exec-7] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:02:36.857 [http-nio-8080-exec-7] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:02:36.775Z}, startsWithBearer=true, timestamp=2025-08-19T15:02:36.854320800}
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:02:39.017 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:02:39.018 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:02:39.018 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:02:39.018 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:02:39.021 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:02:39.022 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:02:39.084 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:02:39.087 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:02:39.089 [http-nio-8080-exec-8] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:02:39.093 [http-nio-8080-exec-8] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4Njg5OSwiZXhwIjoxNzU2MTkxNjk5fQ.yZzIQgpk_64ewFq4iL-Uu-Nxg40vZm6HYGdc179v4PsQnaZpMpW6Uvvt9Z0Dsukfh6K606DjrofAHZ_VreLXBA, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=手动fetch测试请求, timestamp=2025-08-19T07:02:39.016Z}, startsWithBearer=true, timestamp=2025-08-19T15:02:39.090322900}
2025-08-19 15:07:23.114 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:07:23.115 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:07:23.116 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:07:23.116 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:07:23.116 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:07:23.131 [http-nio-8080-exec-10] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:07:23.131 [http-nio-8080-exec-10] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:07:23.132 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:07:23.206 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:07:23.314 [http-nio-8080-exec-10] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:07:27.734 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:07:27.738 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:07:27.739 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:07:27.803 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:07:27.806 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:07:27.808 [http-nio-8080-exec-1] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:07:27.813 [http-nio-8080-exec-1] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g, sec-ch-ua-platform="Windows", content-length=80, connection=close, host=localhost:8080}, tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:07:27.728Z}, hasToken=true, timestamp=2025-08-19T15:07:27.808870800}
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:07:32.236 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:07:32.238 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:07:32.240 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:07:32.302 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:07:32.305 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:07:32.307 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:07:32.309 [http-nio-8080-exec-2] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=Axios实例测试请求, timestamp=2025-08-19T07:07:32.231Z}, startsWithBearer=true, timestamp=2025-08-19T15:07:32.307623600}
2025-08-19 15:07:36.053 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:07:36.053 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:07:36.053 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:07:36.053 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:07:36.053 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:07:36.055 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:07:36.055 [http-nio-8080-exec-3] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, endpoint=/api/test/token-test-public, method=POST, allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, sec-ch-ua-mobile=?0, content-type=application/json, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua-platform="Windows", content-length=81, connection=close, host=localhost:8080}, requestBody={testMessage=这是一个测试请求, timestamp=2025-08-19T07:07:36.047Z}, hasToken=false, authorizationHeader=null, timestamp=2025-08-19T15:07:36.055511900}
2025-08-19 15:07:40.966 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:07:40.967 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:07:40.967 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: false
2025-08-19 15:07:40.967 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:07:40.967 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: false
2025-08-19 15:07:40.968 [http-nio-8080-exec-5] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:07:40.968 [http-nio-8080-exec-5] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, hasAuthorizationHeader=false, tokenStatus=未提供Authorization头, endpoint=/api/test/token-test, method=POST, requestBody={testMessage=这是一个需要认证的测试请求, timestamp=2025-08-19T07:07:40.960Z}, relevantHeaders={}, springSecurityAuthenticated=true, authenticatedUser=anonymousUser, authorizationHeader=null, authorities=[ROLE_ANONYMOUS], timestamp=2025-08-19T15:07:40.968814200}
2025-08-19 15:24:08.605 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4NzI0MywiZXhwIjoxNzU2MTkyMDQzfQ.VmmAnnSC0XlYTsshArgSkx90FiZ-fxDWudfqHBau3qIVFzXL8Fn8YcEjiXjXXqqzDqc-0rBRwD9lBSxQgJjq1g
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:08.609 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:24:08.638 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:24:08.641 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:24:08.746 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:24:08.749 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:24:08.770 [http-nio-8080-exec-6] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:24:08.770 [http-nio-8080-exec-6] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:24:08.771 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:24:08.858 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:24:08.962 [http-nio-8080-exec-6] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:21.956 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:24:21.961 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:24:21.963 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:24:22.027 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:24:22.029 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:24:22.031 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - === Token测试接口被调用 ===
2025-08-19 15:24:22.036 [http-nio-8080-exec-4] INFO  com.ankai.controller.TestController - Token测试结果: {requiresAuth=true, usernameFromToken=admin, tokenStatus=Token验证成功, method=POST, tokenValid=true, relevantHeaders={authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w}, springSecurityAuthenticated=true, authenticatedUser=admin, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w, authHeaderLength=221, authorities=[ROLE_SUPER_ADMIN, SUPER_ADMIN], hasAuthorizationHeader=true, endpoint=/api/test/token-test, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., tokenLength=214, requestBody={testMessage=新统一Request测试请求 - 认证接口, timestamp=2025-08-19T07:24:21.937Z}, startsWithBearer=true, timestamp=2025-08-19T15:24:22.031993700}
2025-08-19 15:24:23.643 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/test/token-test-public
2025-08-19 15:24:23.643 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:24:23.643 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:24:23.643 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:24:23.644 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:24:23.648 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:24:23.651 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:24:23.724 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:24:23.727 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:24:23.728 [http-nio-8080-exec-7] INFO  com.ankai.controller.TestController - === 公开Token测试接口被调用 ===
2025-08-19 15:24:23.731 [http-nio-8080-exec-7] INFO  com.ankai.controller.TestController - 公开Token测试结果: {requiresAuth=false, usernameFromToken=admin, method=POST, tokenFormatValid=true, tokenValid=true, authorizationHeader=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w, endpoint=/api/test/token-test-public, tokenPreview=eyJhbGciOiJIUzUxMiJ9.eyJ1c2VyS..., allHeaders={cookie=XXL_JOB_LOGIN_IDENTITY=7b226964223a312c22757365726e616d65223a2261646d696e222c2270617373776f7264223a226531306164633339343962613539616262653536653035376632306638383365222c22726f6c65223a312c227065726d697373696f6e223a6e756c6c7d; Idea-6d4166df=05540577-6047-4cbe-8879-88f43ceeaa3d, accept-language=zh-CN,zh;q=0.9, accept-encoding=gzip, deflate, br, zstd, referer=http://localhost:8000/token-test, sec-fetch-dest=empty, sec-fetch-mode=cors, sec-fetch-site=same-origin, origin=http://localhost:8080, content-type=application/json, accept=application/json, text/plain, */*, user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36, sec-ch-ua-mobile=?0, sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139", x-request-time=2025-08-19T07:24:23.636Z, authorization=Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w, sec-ch-ua-platform="Windows", content-length=100, connection=close, host=localhost:8080}, tokenLength=214, requestBody={testMessage=新统一Request测试请求 - 公开接口, timestamp=2025-08-19T07:24:23.625Z}, hasToken=true, timestamp=2025-08-19T15:24:23.728268400}
2025-08-19 15:34:50.184 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:34:50.197 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:34:50.197 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODI0OCwiZXhwIjoxNzU2MTkzMDQ4fQ.FhIQh-gzQs8AOo5-ER3XoHBYsBHAGFF6KSwkizh_yqkhSlTQUPyDwugayysXPyDSwiTfrNmbsSW4bbZssC-R3w
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:34:50.198 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:34:50.244 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:34:50.248 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:34:50.379 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:34:50.386 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:34:50.428 [http-nio-8080-exec-8] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:34:50.429 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:34:50.429 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:34:50.483 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:34:50.595 [http-nio-8080-exec-8] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:34:55.590 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODg5MCwiZXhwIjoxNzU2MTkzNjkwfQ.K_dPYUPVpuzrng5UN_yPJsB6XNTiCGEAynB2mznHd_web3h_56IyxNhZUhpR1SVdGUuGkzSH-_eD7qL2kTy07g
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:34:55.591 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:34:55.610 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:34:55.613 [http-nio-8080-exec-9] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:34:55.689 [http-nio-8080-exec-9] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:34:55.699 [http-nio-8080-exec-9] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODg5MCwiZXhwIjoxNzU2MTkzNjkwfQ.K_dPYUPVpuzrng5UN_yPJsB6XNTiCGEAynB2mznHd_web3h_56IyxNhZUhpR1SVdGUuGkzSH-_eD7qL2kTy07g
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:36:21.965 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:36:21.968 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:36:21.969 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:36:22.050 [http-nio-8080-exec-10] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:36:22.053 [http-nio-8080-exec-10] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODg5MCwiZXhwIjoxNzU2MTkzNjkwfQ.K_dPYUPVpuzrng5UN_yPJsB6XNTiCGEAynB2mznHd_web3h_56IyxNhZUhpR1SVdGUuGkzSH-_eD7qL2kTy07g
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:36:22.248 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:36:22.253 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:36:22.254 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:36:22.308 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:36:22.312 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:37:09.254 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:37:09.254 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODg5MCwiZXhwIjoxNzU2MTkzNjkwfQ.K_dPYUPVpuzrng5UN_yPJsB6XNTiCGEAynB2mznHd_web3h_56IyxNhZUhpR1SVdGUuGkzSH-_eD7qL2kTy07g
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:09.255 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:37:09.257 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:37:09.259 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:37:09.340 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:37:09.343 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:37:09.346 [http-nio-8080-exec-2] INFO  com.ankai.controller.AuthController - 接收到登录请求: zhangchao
2025-08-19 15:37:09.346 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: zhangchao
2025-08-19 15:37:09.346 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: zhangchao
2025-08-19 15:37:09.396 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 zhangchao 拥有权限: []
2025-08-19 15:37:19.172 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4ODg5MCwiZXhwIjoxNzU2MTkzNjkwfQ.K_dPYUPVpuzrng5UN_yPJsB6XNTiCGEAynB2mznHd_web3h_56IyxNhZUhpR1SVdGUuGkzSH-_eD7qL2kTy07g
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:19.173 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:37:19.190 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:37:19.197 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:37:19.275 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:37:19.278 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:37:19.279 [http-nio-8080-exec-3] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:37:19.279 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:37:19.279 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:37:19.334 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:37:19.447 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTAzOSwiZXhwIjoxNzU2MTkzODM5fQ.IvY33CPTYtEmkW_ah4-HVC7QyPtCPyqfTZPZRFfROrhwWgTDuCzlHG0VpJwSERK8NHZt4xjapi3otMUnUdwYeA
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:37:21.645 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:37:21.648 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:37:21.651 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:37:21.725 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:37:21.729 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:48:07.588 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 15:48:07.658 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:48:07.659 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:48:07.659 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTAzOSwiZXhwIjoxNzU2MTkzODM5fQ.IvY33CPTYtEmkW_ah4-HVC7QyPtCPyqfTZPZRFfROrhwWgTDuCzlHG0VpJwSERK8NHZt4xjapi3otMUnUdwYeA
2025-08-19 15:48:07.659 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:48:07.659 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:48:07.660 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:48:07.661 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:48:07.661 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:48:07.661 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:48:07.661 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:48:07.661 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:48:07.835 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:48:07.852 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:48:08.265 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:48:08.330 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:50:01.771 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTAzOSwiZXhwIjoxNzU2MTkzODM5fQ.IvY33CPTYtEmkW_ah4-HVC7QyPtCPyqfTZPZRFfROrhwWgTDuCzlHG0VpJwSERK8NHZt4xjapi3otMUnUdwYeA
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:50:01.773 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:50:01.778 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:50:01.779 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:50:01.874 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:50:01.876 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:50:01.879 [http-nio-8080-exec-4] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 15:50:01.879 [http-nio-8080-exec-4] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 15:50:01.880 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:50:01.932 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:50:02.042 [http-nio-8080-exec-4] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTgwMiwiZXhwIjoxNzU2MTk0NjAyfQ.mAZymsm2RKzdFT4vsYlF5_rXf0JRcwxzKeIVs-51oOsfAlSfCLdQMhOjTUKr34S0Yq1DXilcH18wppoKtOeiyA
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:50:39.607 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:50:39.612 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:50:39.612 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:50:39.690 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:50:39.692 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:51:20.927 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: PUT /api/user
2025-08-19 15:51:20.927 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTgwMiwiZXhwIjoxNzU2MTk0NjAyfQ.mAZymsm2RKzdFT4vsYlF5_rXf0JRcwxzKeIVs-51oOsfAlSfCLdQMhOjTUKr34S0Yq1DXilcH18wppoKtOeiyA
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:51:20.928 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:51:20.930 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:51:20.931 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:51:21.007 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:51:21.011 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:51:34.581 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 15:51:34.587 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 15:51:41.888 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 15:51:41.944 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 26024 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 15:51:41.944 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 15:51:42.738 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 15:51:42.740 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 15:51:42.775 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-19 15:51:43.522 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 15:51:43.531 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 15:51:43.532 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 15:51:43.532 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 15:51:43.625 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 15:51:43.625 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1636 ms
2025-08-19 15:51:44.177 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 15:51:44.417 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 15:51:44.447 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 15:51:44.456 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 15:51:44.520 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 15:51:44.740 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 15:51:44.787 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 15:51:45.166 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ab39942, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64186f60, org.springframework.security.web.context.SecurityContextHolderFilter@5f4f6f89, org.springframework.security.web.header.HeaderWriterFilter@71b7e9c8, org.springframework.security.web.authentication.logout.LogoutFilter@2761156e, com.ankai.security.JwtAuthenticationFilter@63c99f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ef220e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18bc1064, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@de40aa1, org.springframework.security.web.session.SessionManagementFilter@478c84aa, org.springframework.security.web.access.ExceptionTranslationFilter@53551fef, org.springframework.security.web.access.intercept.AuthorizationFilter@7a569672]
2025-08-19 15:51:45.435 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 15:51:45.446 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 15:51:45.452 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 4.026 seconds (process running for 4.689)
2025-08-19 15:54:30.735 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 15:54:30.738 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 15:54:30.753 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-08-19 15:54:30.796 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: PUT /api/user
2025-08-19 15:54:30.797 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 15:54:30.797 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 15:54:30.797 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTgwMiwiZXhwIjoxNzU2MTk0NjAyfQ.mAZymsm2RKzdFT4vsYlF5_rXf0JRcwxzKeIVs-51oOsfAlSfCLdQMhOjTUKr34S0Yq1DXilcH18wppoKtOeiyA
2025-08-19 15:54:30.797 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 15:54:30.797 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 15:54:30.798 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 15:54:30.911 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 15:54:30.913 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 15:54:30.941 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 15:54:31.325 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@551c36e3
2025-08-19 15:54:31.327 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 15:54:31.436 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 15:54:31.441 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 15:54:31.642 [http-nio-8080-exec-1] INFO  com.ankai.controller.UserController - 更新用户请求: ID=1957708200438468600, 用户名=zhangchao
2025-08-19 15:54:31.643 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.UserServiceImpl - 更新用户: zhangchao
2025-08-19 16:04:35.176 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:04:35.195 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 16:10:43.869 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 16:10:43.947 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 2980 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 16:10:43.948 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:10:44.703 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 16:10:44.705 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 16:10:44.736 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-19 16:10:45.451 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 16:10:45.460 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:10:45.461 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:10:45.461 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 16:10:45.539 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:10:45.539 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1553 ms
2025-08-19 16:10:46.146 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:10:46.398 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 16:10:46.421 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:10:46.429 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 16:10:46.489 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 16:10:46.708 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:10:46.751 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:10:47.097 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77988c45, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f5f8de2, org.springframework.security.web.context.SecurityContextHolderFilter@1e2b37cd, org.springframework.security.web.header.HeaderWriterFilter@7e43b342, org.springframework.security.web.authentication.logout.LogoutFilter@1cfb7450, com.ankai.security.JwtAuthenticationFilter@74cd798f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6033f36c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50b624da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6baee63b, org.springframework.security.web.session.SessionManagementFilter@f575d2b, org.springframework.security.web.access.ExceptionTranslationFilter@70eb94d7, org.springframework.security.web.access.intercept.AuthorizationFilter@18bc1064]
2025-08-19 16:10:47.350 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:10:47.361 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 16:10:47.368 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 4.026 seconds (process running for 4.739)
2025-08-19 16:12:29.901 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 16:12:29.902 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 16:12:29.907 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-08-19 16:12:29.921 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/auth/login
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU4OTgwMiwiZXhwIjoxNzU2MTk0NjAyfQ.mAZymsm2RKzdFT4vsYlF5_rXf0JRcwxzKeIVs-51oOsfAlSfCLdQMhOjTUKr34S0Yq1DXilcH18wppoKtOeiyA
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:12:29.922 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:12:30.029 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:12:30.030 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:12:30.055 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 16:12:30.512 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@e473422
2025-08-19 16:12:30.514 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 16:12:30.623 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:12:30.626 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:12:30.762 [http-nio-8080-exec-1] INFO  com.ankai.controller.AuthController - 接收到登录请求: admin
2025-08-19 16:12:30.762 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录请求: admin
2025-08-19 16:12:30.841 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:12:30.895 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:12:31.013 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.AuthServiceImpl - 用户登录成功: admin
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:12:34.528 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:12:34.529 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:12:34.531 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:12:34.532 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:12:34.609 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:12:34.611 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:13:04.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:04.042 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:13:04.042 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:13:04.042 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:13:04.042 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:04.042 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:13:04.045 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:13:04.047 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:13:04.127 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:13:04.130 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:13:04.140 [http-nio-8080-exec-3] INFO  com.ankai.controller.UserController - 新增用户请求: zhangchao
2025-08-19 16:13:04.142 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.UserServiceImpl - 新增用户: zhangchao
2025-08-19 16:13:04.247 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 密码已加密
2025-08-19 16:13:04.310 [http-nio-8080-exec-3] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 新增成功
2025-08-19 16:13:04.310 [http-nio-8080-exec-3] INFO  com.ankai.controller.UserController - 新增用户 zhangchao 成功
2025-08-19 16:13:04.364 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:13:04.365 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:13:04.366 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:04.366 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:13:04.370 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:13:04.371 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:13:04.428 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:13:04.431 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: DELETE /api/user/1957708200438468600
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:13:20.478 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:20.479 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:13:20.481 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:13:20.481 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:13:20.566 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:13:20.568 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: DELETE /api/user/1957708200438468600
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:13:39.680 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:13:39.683 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:13:39.683 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:13:39.759 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:13:39.761 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:14:02.532 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:14:02.539 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 16:15:16.100 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 16:15:16.152 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 27592 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 16:15:16.153 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:15:16.884 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 16:15:16.886 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 16:15:16.914 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-19 16:15:17.603 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 16:15:17.611 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:15:17.611 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:15:17.611 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 16:15:17.690 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:15:17.690 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1497 ms
2025-08-19 16:15:18.041 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-19 16:15:18.053 [main] INFO  o.s.b.a.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-19 16:16:29.961 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 16:16:30.012 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 23436 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 16:16:30.013 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:16:30.713 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 16:16:30.716 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 16:16:30.746 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-19 16:16:31.469 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 16:16:31.479 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:16:31.479 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:16:31.479 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 16:16:31.569 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:16:31.570 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1517 ms
2025-08-19 16:16:32.037 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:16:32.243 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 16:16:32.268 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:16:32.276 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 16:16:32.333 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 16:16:32.546 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:16:32.587 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:16:32.938 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eea4441, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1820f274, org.springframework.security.web.context.SecurityContextHolderFilter@7d5d77a6, org.springframework.security.web.header.HeaderWriterFilter@1764e45e, org.springframework.security.web.authentication.logout.LogoutFilter@276aa33f, com.ankai.security.JwtAuthenticationFilter@382d549a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55202ba6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ef1fc8a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@221cdd87, org.springframework.security.web.session.SessionManagementFilter@53dbe7b2, org.springframework.security.web.access.ExceptionTranslationFilter@6033f36c, org.springframework.security.web.access.intercept.AuthorizationFilter@39c1e7b7]
2025-08-19 16:16:33.200 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:16:33.209 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 16:16:33.215 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.692 seconds (process running for 4.348)
2025-08-19 16:16:41.046 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 16:16:41.046 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 16:16:41.047 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 16:16:41.066 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:16:41.066 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:16:41.066 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:16:41.066 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:41.067 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:16:41.123 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:16:41.124 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:16:41.146 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 16:16:41.540 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@153e5f9b
2025-08-19 16:16:41.541 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 16:16:41.658 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:16:41.664 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: DELETE /api/user/1957708200438468600
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:44.903 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:16:44.905 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:16:44.909 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:16:44.989 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:16:44.992 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:16:57.338 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:16:57.339 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:16:57.341 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:16:57.343 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:16:57.422 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:16:57.425 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:17:17.526 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:17:17.531 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:17:17.533 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:17:17.613 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:17:17.617 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:17:17.627 [http-nio-8080-exec-4] INFO  com.ankai.controller.UserController - 新增用户请求: zhangchao
2025-08-19 16:17:17.628 [http-nio-8080-exec-4] INFO  com.ankai.service.impl.UserServiceImpl - 新增用户: zhangchao
2025-08-19 16:17:17.754 [http-nio-8080-exec-4] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 密码已加密
2025-08-19 16:17:17.811 [http-nio-8080-exec-4] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 新增成功
2025-08-19 16:17:17.811 [http-nio-8080-exec-4] INFO  com.ankai.controller.UserController - 新增用户 zhangchao 成功
2025-08-19 16:17:17.874 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:17:17.874 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:17:17.876 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:17:17.878 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:17:17.880 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:17:17.934 [http-nio-8080-exec-5] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:17:17.938 [http-nio-8080-exec-5] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:48:20.931 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:48:20.937 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 16:48:50.987 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 16:48:51.043 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 23448 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 16:48:51.044 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:48:51.771 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 16:48:51.774 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 16:48:51.803 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-19 16:48:52.482 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 16:48:52.490 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:48:52.490 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:48:52.490 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 16:48:52.568 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:48:52.569 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1485 ms
2025-08-19 16:48:53.033 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:48:53.226 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 16:48:53.255 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:48:53.263 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 16:48:53.326 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 16:48:53.554 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:48:53.598 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:48:53.949 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63551c66, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2761156e, org.springframework.security.web.context.SecurityContextHolderFilter@76b019c4, org.springframework.security.web.header.HeaderWriterFilter@3a7dcfb7, org.springframework.security.web.authentication.logout.LogoutFilter@25d23478, com.ankai.security.JwtAuthenticationFilter@260d48f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32ddcca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ddc8fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cf15477, org.springframework.security.web.session.SessionManagementFilter@55202ba6, org.springframework.security.web.access.ExceptionTranslationFilter@2634d000, org.springframework.security.web.access.intercept.AuthorizationFilter@221cdd87]
2025-08-19 16:48:54.214 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:48:54.223 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 16:48:54.230 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.719 seconds (process running for 4.65)
2025-08-19 16:49:04.309 [http-nio-8080-exec-1] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 16:49:04.309 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 16:49:04.310 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:49:04.327 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:04.329 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:49:04.396 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:49:04.398 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:49:04.417 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 16:49:04.819 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2de5b8de
2025-08-19 16:49:04.820 [http-nio-8080-exec-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 16:49:04.927 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:49:04.930 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:49:20.669 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 16:49:20.671 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:49:20.673 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:49:20.674 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:49:20.677 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:49:20.678 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:20.678 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:49:20.683 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:49:20.687 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:49:20.763 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:49:20.766 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:49:20.780 [http-nio-8080-exec-2] INFO  com.ankai.controller.UserController - 新增用户请求: zhangchao
2025-08-19 16:49:20.781 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.UserServiceImpl - 新增用户: zhangchao
2025-08-19 16:49:20.894 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 密码已加密
2025-08-19 16:49:20.953 [http-nio-8080-exec-2] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 新增成功
2025-08-19 16:49:20.954 [http-nio-8080-exec-2] INFO  com.ankai.controller.UserController - 新增用户 zhangchao 成功
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:49:21.040 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:49:21.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:49:21.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:21.041 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:49:21.046 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:49:21.047 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:49:21.100 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:49:21.104 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:49:31.256 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: DELETE /api/user/1957708200438468600
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:49:31.257 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:49:31.262 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:49:31.263 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:49:31.340 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:49:31.342 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:49:48.430 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:49:48.437 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 16:50:33.043 [background-preinit] INFO  org.hibernate.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.0.Final
2025-08-19 16:50:33.093 [main] INFO  com.ankai.AnKaiBackendApplication - Starting AnKaiBackendApplication using Java 17.0.15 with PID 25216 (C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend\target\classes started by A in C:\Users\A\Desktop\AnKaiBackend\Ankai_Backend)
2025-08-19 16:50:33.094 [main] INFO  com.ankai.AnKaiBackendApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:50:33.768 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-19 16:50:33.770 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-19 16:50:33.801 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-19 16:50:34.472 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-08-19 16:50:34.481 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:50:34.481 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:50:34.481 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.8]
2025-08-19 16:50:34.562 [main] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:50:34.562 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1431 ms
2025-08-19 16:50:35.087 [main] INFO  com.ankai.config.RedisConfig - 配置Redis连接工厂 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:50:35.332 [main] INFO  com.ankai.config.RedisConfig - Redis连接工厂配置完成，使用数据库: 9
2025-08-19 16:50:35.356 [main] INFO  com.ankai.config.RedisConfig - 配置Redisson客户端 - Host: 101.34.253.208, Port: 6379, Database: 9
2025-08-19 16:50:35.364 [main] INFO  com.ankai.config.RedisConfig - Redisson客户端配置完成，使用数据库: 9
2025-08-19 16:50:35.428 [main] INFO  org.redisson.Version - Redisson 3.24.3
2025-08-19 16:50:35.654 [redisson-netty-6-4] INFO  org.redisson.connection.pool.MasterConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:50:35.699 [redisson-netty-6-5] INFO  o.r.connection.pool.MasterPubSubConnectionPool - 1 connections initialized for 101.34.253.208/101.34.253.208:6379
2025-08-19 16:50:36.066 [main] INFO  o.s.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@641e67fa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fdff56b, org.springframework.security.web.context.SecurityContextHolderFilter@490fbeaa, org.springframework.security.web.header.HeaderWriterFilter@1d1deb11, org.springframework.security.web.authentication.logout.LogoutFilter@61b76a7d, com.ankai.security.JwtAuthenticationFilter@382d549a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@276aa33f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34065642, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cb43fd3, org.springframework.security.web.session.SessionManagementFilter@234bfc8c, org.springframework.security.web.access.ExceptionTranslationFilter@1cfb7450, org.springframework.security.web.access.intercept.AuthorizationFilter@5c78f456]
2025-08-19 16:50:36.324 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:50:36.332 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api'
2025-08-19 16:50:36.340 [main] INFO  com.ankai.AnKaiBackendApplication - Started AnKaiBackendApplication in 3.827 seconds (process running for 5.125)
2025-08-19 16:50:42.603 [http-nio-8080-exec-2] INFO  o.a.c.c.ContainerBase.[Tomcat].[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 16:50:42.603 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 16:50:42.604 [http-nio-8080-exec-2] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-19 16:50:42.621 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:42.622 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:50:42.679 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:50:42.680 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:50:42.697 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 16:50:43.066 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@60f32412
2025-08-19 16:50:43.069 [http-nio-8080-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 16:50:43.173 [http-nio-8080-exec-2] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:50:43.176 [http-nio-8080-exec-2] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:50:55.330 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:55.331 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:50:55.335 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:50:55.338 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:50:55.414 [http-nio-8080-exec-1] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:50:55.417 [http-nio-8080-exec-1] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:50:55.428 [http-nio-8080-exec-1] INFO  com.ankai.controller.UserController - 新增用户请求: zhangchao
2025-08-19 16:50:55.430 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.UserServiceImpl - 新增用户: zhangchao
2025-08-19 16:50:55.551 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 密码已加密
2025-08-19 16:50:55.615 [http-nio-8080-exec-1] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 新增成功
2025-08-19 16:50:55.615 [http-nio-8080-exec-1] INFO  com.ankai.controller.UserController - 新增用户 zhangchao 成功
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:50:55.703 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:50:55.705 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:50:55.709 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:50:55.711 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:50:55.775 [http-nio-8080-exec-3] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:50:55.780 [http-nio-8080-exec-3] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: DELETE /api/user/1957708200438468600
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:00.336 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:51:00.339 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:51:00.341 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:51:00.421 [http-nio-8080-exec-4] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:51:00.423 [http-nio-8080-exec-4] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:51:37.355 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:37.356 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:51:37.361 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:51:37.362 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:51:37.442 [http-nio-8080-exec-8] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:51:37.444 [http-nio-8080-exec-8] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:51:56.933 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:51:56.934 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:51:56.934 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:56.934 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:51:56.938 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:51:56.939 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:51:57.017 [http-nio-8080-exec-7] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:51:57.019 [http-nio-8080-exec-7] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:51:57.021 [http-nio-8080-exec-7] INFO  com.ankai.controller.UserController - 新增用户请求: zhangchao
2025-08-19 16:51:57.021 [http-nio-8080-exec-7] INFO  com.ankai.service.impl.UserServiceImpl - 新增用户: zhangchao
2025-08-19 16:51:57.138 [http-nio-8080-exec-7] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 密码已加密
2025-08-19 16:51:57.189 [http-nio-8080-exec-7] INFO  com.ankai.service.impl.UserServiceImpl - 用户 zhangchao 新增成功
2025-08-19 16:51:57.189 [http-nio-8080-exec-7] INFO  com.ankai.controller.UserController - 新增用户 zhangchao 成功
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - JWT过滤器处理请求: POST /api/user/page
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === Authorization头检查 ===
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头存在: true
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Authorization头内容: Bearer eyJhbGciOiJIUzUxMiJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoiYWRtaW4iLCJzdWIiOiJhZG1pbiIsImlhdCI6MTc1NTU5MTE1MCwiZXhwIjoxNzU2MTk1OTUwfQ.XfzWBqy8mVpvm49xSHXnlAxxFISvyAfRedOcnuF_5UncF5K_Kw9R87eKuX_jYPcDMQgBcRnPa13WnettLod67A
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 是否以'Bearer '开头: true
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 成功提取Token，长度: 214
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - === JWT Token检查 ===
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token存在: true
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token长度: 214
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token前20位: eyJhbGciOiJIUzUxMiJ9...
2025-08-19 16:51:57.257 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 开始验证Token...
2025-08-19 16:51:57.259 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - Token验证结果: true
2025-08-19 16:51:57.261 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 加载用户信息: admin
2025-08-19 16:51:57.316 [http-nio-8080-exec-6] INFO  com.ankai.security.UserDetailsServiceImpl - 用户 admin 拥有权限: [ROLE_SUPER_ADMIN, SUPER_ADMIN]
2025-08-19 16:51:57.317 [http-nio-8080-exec-6] INFO  com.ankai.security.JwtAuthenticationFilter - 用户 admin 认证成功，已设置到Security上下文
2025-08-19 16:52:18.964 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:52:18.971 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
